{% extends "layout.html" %}

{% block main %}
<div class="flex" id="screen-panel">
    <div class="w-1/8 h-screen items-center justify-center text-center" id="left-panel">
        <div class="h-1/2 text-wrap justify-center flex" id="volume-panel">
            <table class="text-center table-fixed w-full">
                <thead>
                    <tr>
                        <th class="w-1/2">Ticker</th>
                        <th class="w-1/2">Volume</th>
                    </tr>
                </thead>
                <tbody>

                    {% for item in volumeData %}
                        <tr class="border-y border-solid border-collapse border-slate-400 bg-slate-600 hover:bg-slate-700 stock-item cursor-pointer">
                            <td class="ticker-code">
                                {{ item.ticker }}
                            </td>
                            <td>
                                {{ item.volume }}
                            </td>
                        </tr>
                        
                    {% endfor %}
                </tbody>
            </table>
        </div>
    
        <div class="h-1/2" id="favourites">
            watched stocks
        </div>
    </div>
    
    <div class="w-5/8 h-screen bg-red-200 text-center" id="main-panel">
        stock focus panel
    </div>
    
    <div class=" w-2/8 h-screen text-center flex justify-between" id="right-panel">
        <table class="table-fixed w-1/2">
            <thead>
                <tr>
                    <th>Ticker</th>
                    <th>Biggest Gain</th>
                </tr>
            </thead>
            <tbody>

                {% for item in differenceData %}
                    <tr class="border-y border-solid border-collapse border-slate-400 bg-slate-600 hover:bg-slate-700 stock-item cursor-pointer">
                        <td class="ticker-code">
                            {{ item.ticker }}
                        </td>
                        <td>
                            {{ item.difference }}
                        </td>
                    </tr>
                    
                {% endfor %}
            </tbody>
        </table>
        <table class="table-fixed w-1/2">
            <thead>
                <tr>
                    <th>Ticker</th>
                    <th>Biggest Loss</th>
                </tr>
            </thead>
            <tbody>

                {% for item in differenceDataReverse %}
                    <tr class="border-y border-solid border-collapse border-slate-400 bg-slate-600 hover:bg-slate-700 stock-item cursor-pointer">
                        <td class="ticker-code">
                            {{ item.ticker }}
                        </td>
                        <td>
                            {{ item.difference }}
                        </td>
                    </tr>
                    
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<script>
    var stockItems = document.getElementsByClassName("ticker-code");

    for(let i = 0; i < stockItems.length; i++){

        stockItems[i].addEventListener("click", function(){
            let code = this.textContent
            // returns the ticker code of the element clicked on
            console.log(code.trim())
        })
    };

</script>


{% endblock %}